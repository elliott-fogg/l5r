<!DOCTYPE html>
<html>
<head>
	<title>Spell Caster</title>
	<script type="text/javascript" src="js/spell_roller.js"></script>
	<script type="text/javascript" src="js/dice_roller.js"></script>
	<script type="text/javascript" src="js/data_loader.js"></script>
	<script type="text/javascript" src="js/data_handler.js"></script>
	<script type="text/javascript" src="js/data_tester.js"></script>
	<script type="text/javascript" src="js/modal.js"></script>
	<script type="text/javascript" src="js/collapsible_divs.js"></script>
	<script type="text/javascript" src="js/full_spell_list.js"></script>
	<link rel="stylesheet" href="css/details.css">
	<link rel="stylesheet" href="css/dice_roller.css">
	<link rel="stylesheet" href="css/modal.css">
	<link rel="stylesheet" href="css/all_spells.css">
	<link rel="stylesheet" href="css/main.css">
</head>
<body>

	<h1>L5R Generic Spell Caster</h1>

	<p><b>Temporary instructions for the site:</b> Click any spell to select it and see details. Right-click a spell to add it to "Learned Spells", and right-click it under the "Learned Spells" section to remove it.</p>

	<p>
		The Spellcasting roll for a spell, with no raises, is:<br>
		<b>Roll</b> 'Ring of Spell Element + School Rank + Affinity - Deficiency'<br>
		<b>Keep</b> 'Ring of Spell Element + Affinity - Deficiency'.<br>
		<br>
		The TN for a spell is the (Spell Level * 5) + 5. So a Spell of Level 1 is TN 10.
	</p>

	<details class="disabled" onclick="return false">
		<summary>Stats</summary>
		<div style="display: flex">

			<div>
				<table>
					<tr>
						<td>Affinity: </td>
						<td>
							<select>
								<option value="None" selected>None</option>
								<option value="Air">Air</option>
								<option value="Earth">Earth</option>
								<option value="Fire">Fire</option>
								<option value="Water">Water</option>
								<option value="Void">Void</option>
							</select>
						</td>
					</tr>
					<tr>
						<td>Deficiency: </td>
						<td>
							<select>
								<option value="None" selected>None</option>
								<option value="Air">Air</option>
								<option value="Earth">Earth</option>
								<option value="Fire">Fire</option>
								<option value="Water">Water</option>
								<option value="Void">Void</option>
							</select>
						</td>
					</tr>
				</table>
				<p id="affinity_warning">WARNING</p>
			</div>

			<div>
				<label><b><u>Traits</u></b></label><br>
				<table>
					<tr>
						<td>Air</td>
						<td><input type="number" value=2 min=2 max=10></td>
					</tr>
					<tr>
						<td>Earth</td>
						<td><input type="number" value=2 min=2 max=10></td>
					</tr>
					<tr>
						<td>Fire</td>
						<td><input type="number" value=2 min=2 max=10></td>
					</tr>
					<tr>
						<td>Water</td>
						<td><input type="number" value=2 min=2 max=10></td>
					</tr>
					<tr>
						<td>Void</td>
						<td><input type="number" value=2 min=2 max=10></td>
					</tr>
				</table>
			</div>

		</div>
	</details>

	<br>

	<h4 id="spell_info_placeholder" style="display: inline">Spell Info<br></h4>

	<details id="spell_info" style="display: none">
		<summary id="current_spell-name" style="font-size: 1.4em">Spell Info</summary>
		<div>
			<p id="current_spell-tn"></p>
			<p id="current_spell-element_level"></p>
			<p id="current_spell-description"></p>
			<p id="current_spell-raises"></p>
		</div>
	</details>

	<br>

	<details class="disabled" onclick="return false">
		<summary>Spell Roller</summary>
		<div>
			<details>
				<summary>Additional Options</summary>
				<ul>
					<li>
						<label>
							Manual Roll: 
							<input type="checkbox" id="manual_roll_checkbox">
						</label>
					</li>
				</ul>
			</details>

			<div include-html="dice_roller.html">DICE_ROLLER_HERE</div>

		</div>
	</details>

	<br>

	<details id="saved_spells_details">
		<summary>Learned Spells</summary>
		<div id="saved_spells_div"></div>
	</details>

	<br>

	<input type="text" id="spell_search_box" oninput="refresh_spell_search_results()"
		placeholder="Search for a spell...">
	<div id="spell_search_results"></div>

	<div include-html="full_spell_list.html">FULL_SPELL_LIST</div>

	<script>
		window.DH = new DataHandler();
		window.DH.execute_on_load(spell_roller_main);
	</script>

</body>
</html>